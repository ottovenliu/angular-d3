"use strict";(self.webpackChunkangular_d3=self.webpackChunkangular_d3||[]).push([[521],{4521:(C,s,n)=>{n.r(s),n.d(s,{HeatMapsModule:()=>b});var M=n(9808),p=n(8519),v=n(2330),t=n(5e3),u=n(1633);let m=(()=>{class r{constructor(){this.rwdSvgWidth=0,this.rwdSvgHeight=.8*this.rwdSvgWidth,this.chartName="bar",this.data={},this.range=[0,100],this.margin=50,this.width=750-2*this.margin,this.height=400-2*this.margin}onResize(e){const o=e.target;this.rwdSvgWidth=document.querySelector("#"+this.chartName)?document.querySelector("#"+this.chartName).clientWidth:0,this.rwdSvgHeight=.8*this.rwdSvgWidth,this.width=this.rwdSvgWidth-2*this.margin,this.height=this.rwdSvgHeight-2*this.margin,(o.innerWidth>310&&o.innerWidth<400||o.innerWidth>=400)&&(this.createSvg(),this.drawHeatMap(this.data))}createSvg(){u.Ys(`figure#${this.chartName} svg`)&&u.Ys(`figure#${this.chartName} svg`).remove(),this.svg=u.Ys(`figure#${this.chartName}`).append("svg").attr("width",this.width+2*this.margin).attr("height",this.height+2*this.margin).append("g").attr("transform","translate("+this.margin+","+this.margin+")")}drawHeatMap(e,o=10){const h=u.tiA().range([0,this.width]).domain(Array.from(new Set(e.map(a=>a.group)))).padding(.05);this.svg.append("g").style("font-size",15).attr("transform","translate(0,"+this.height+")").call(u.LLu(h).tickSize(0)).selectAll("text"),window.innerWidth<520&&this.svg.selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("font-size","2vw");const i=u.tiA().range([this.height,0]).domain(Array.from(new Set(e.map(a=>a.variable)))).padding(.05);this.svg.append("g").call(u.y4O(i).tickSize(0)).selectAll("text");const S=u.BYU().range(["white","#69b3a2"]).domain(this.range);this.svg.selectAll().data(e,a=>a.group+":"+a.variable).join("rect").attr("x",a=>h(a.group)).attr("y",a=>i(a.variable)).attr("rx",4).attr("ry",4).attr("width",h.bandwidth()).attr("height",i.bandwidth()).style("fill",a=>S(a.value)).style("stroke-width",4).style("stroke","none").style("opacity",.8),this.svg.selectAll(".label").data(e).enter().append("g").attr("class","label").attr("transform","translate(10,15)").append("text").attr("x",a=>h(a.group)).attr("y",a=>i(a.variable)).attr("dy",".35em").text(a=>a.value),window.innerWidth<520&&this.svg.selectAll(".label").style("font-size","2vw").attr("transform","translate(5,5)"),this.svg.selectAll(".domain").remove();const d=u.Ys(`figure#${this.chartName}`).append("div").style("opacity",0).style("position","absolute").attr("class","tooltip").style("background-color","white").style("color","black").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");this.svg.on("mouseover",a=>{d.style("opacity",1)}).on("mousemove",a=>{d.style("left",a.layerX+15+"px").style("top",a.layerY-25+"px").text("\u71b1\u9ede\u6b21\u6578:"+a.target.__data__.value)}).on("mouseout",a=>{d.style("opacity",0)}).on("click",a=>{console.log("d:",a),console.log("d.target.__data__:",a.target.__data__)})}ngOnInit(){}ngAfterViewInit(){this.rwdSvgWidth=document.querySelector("#"+this.chartName)?document.querySelector("#"+this.chartName).clientWidth:0,this.rwdSvgHeight=.8*this.rwdSvgWidth,this.width=this.rwdSvgWidth-2*this.margin,this.height=this.rwdSvgHeight-2*this.margin,this.createSvg(),this.drawHeatMap(this.data)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-heat-map"]],hostBindings:function(e,o){1&e&&t.NdJ("resize",function(i){return o.onResize(i)},!1,t.Jf7)},inputs:{chartName:"chartName",data:"data",range:"range"},decls:1,vars:1,consts:[[1,"RWDChart",3,"id"]],template:function(e,o){1&e&&t._UZ(0,"figure",0),2&e&&t.s9C("id",o.chartName)},styles:[".RWDChart[_ngcontent-%COMP%]{width:100%}"]}),r})();var y=n(9142);let g=(()=>{class r{constructor(){this.calendarRange=[0,10],this.calendarData=[{group:"Monday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Monday",variable:"19:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Tuesday",variable:"19:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Wednesday",variable:"19:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Thursday",variable:"19:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Friday",variable:"19:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Saturday",variable:"19:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"10:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"11:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"12:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"13:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"14:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"15:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"16:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"17:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"18:00",value:Math.floor(10*Math.random())},{group:"Sunday",variable:"19:00",value:Math.floor(10*Math.random())}]}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],decls:17,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"text-primary-800"],[1,"card-body"],[1,"row"],[1,"col-md-12","col-lg-6"],["chartName","calendarChart",3,"data","range"],["value","MouseOver","styleClass","me-1"],["value","Click","styleClass","me-1"],["value","RWD","styleClass","me-1"],["value","LazyLoad","styleClass","me-1"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Origin Calendar"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"app-heat-map",6),t.qZA(),t.TgZ(8,"div",5)(9,"strong",2),t._uU(10,"Tag: "),t._UZ(11,"p-tag",7)(12,"p-tag",8)(13,"p-tag",9)(14,"p-tag",10),t.qZA(),t.TgZ(15,"p",2),t._uU(16," \u57fa\u790e\u578b\u71b1\u9ede\u5716\u6a21\u7d44\uff0c\u5177\u6709\u6ed1\u9f20\u6ed1\u52d5(MouseOver)\u6642\u5373\u6642\u986f\u793a\u6578\u503c\u7684\u529f\u80fd\uff0c\u80fd\u5920RWD\u7684\u540c\u6642\u5177\u6709\u9ede\u64ca\u89f8\u767c\u4e8b\u4ef6\u986f\u793a\u9ede\u64ca\u8cc7\u6599\uff0c\u53ef\u900f\u904eConsole\u9032\u884c\u4e8b\u4ef6\u7684\u700f\u89bd\u3002 "),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("data",o.calendarData)("range",o.calendarRange))},directives:[m,y.V],encapsulation:2}),r})();const f=[{path:"",component:g},{path:"Calendar",component:g}];let c=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[v.Bz.forChild(f)],v.Bz]}),r})(),b=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[M.ez,p.m,c]]}),r})()}}]);