"use strict";(self.webpackChunkangular_d3=self.webpackChunkangular_d3||[]).push([[833],{4833:(f,d,u)=>{u.r(d),u.d(d,{PieChartsModule:()=>w});var g=u(8519),m=u(9808),l=u(2330),t=u(5e3),o=u(1633);let p=(()=>{class e{constructor(){this.rwdSvgWidth=0,this.rwdSvgHeight=.8*this.rwdSvgWidth,this.chartName="bar",this.data=[],this.margin=50,this.width=750-2*this.margin,this.height=750-2*this.margin,this.radius=Math.min(this.width,this.height)/2}onResize(a){const s=a.target;this.rwdSvgWidth=document.querySelector("#"+this.chartName)?document.querySelector("#"+this.chartName).clientWidth:0,this.rwdSvgHeight=this.rwdSvgWidth,this.width=this.rwdSvgWidth,this.height=this.rwdSvgHeight,this.radius=Math.min(this.width,this.height)/2,(s.innerWidth>310&&s.innerWidth<400||s.innerWidth>=400)&&(this.createSvg(),this.drawChart(this.data))}createSvg(){o.Ys(`figure#${this.chartName} svg`)&&o.Ys(`figure#${this.chartName} svg`).remove(),this.svg=o.Ys(`figure#${this.chartName}`).append("svg").attr("width",this.width+2*this.margin).attr("height",this.height+2*this.margin).append("g").attr("transform","translate("+this.width/2+","+this.height/2+")")}createColors(){this.colors=o.PKp().domain(this.data.map(a=>a.Stars.toString())).range(["#c7d3ec","#a5b8db","#879cc4","#677795","#5a6782"])}drawChart(a){const s=o.ve8().value(i=>Number(i.Stars));this.svg.selectAll("pieces").data(s(a)).enter().append("path").attr("d",o.Nb1().innerRadius(0).outerRadius(this.radius)).attr("fill",(i,F)=>this.colors(F)).attr("stroke","#121926").style("stroke-width","1px").on("mouseover",i=>{n.style("opacity",1),n.style("display","initial")}).on("mousemove",i=>{n.style("left",i.layerX+10+"px").style("top",i.layerY+"px").html(i.target.__data__.data.Framework+"<br>Stars: "+i.target.__data__.data.Stars+"<br>Released: "+i.target.__data__.data.Released)}).on("mouseout",i=>{n.style("opacity",0),n.style("display","none")}).on("click",i=>{console.log("d.target.__data__:",i.target.__data__),console.log("d:",i)});const h=o.Nb1().innerRadius(100).outerRadius(this.radius);this.svg.selectAll("pieces").data(s(a)).enter().append("text").text(i=>i.data.Framework).attr("class","label").attr("transform",i=>"translate("+h.centroid(i)+")").style("text-anchor","middle").style("font-size",15),window.innerWidth<520&&this.svg.selectAll(".label").attr("transform",i=>"translate("+h.centroid(i)+")").style("font-size","2vw");const n=o.Ys(`figure#${this.chartName}`).append("div").style("opacity",0).style("position","absolute").attr("class","tooltip").style("background-color","white").style("color","black").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px")}ngOnInit(){}ngAfterViewInit(){this.rwdSvgWidth=document.querySelector("#"+this.chartName)?document.querySelector("#"+this.chartName).clientWidth:0,this.rwdSvgHeight=this.rwdSvgWidth,this.width=this.rwdSvgWidth-2*this.margin,this.height=this.rwdSvgHeight-2*this.margin,this.radius=Math.min(this.width,this.height)/2,this.createSvg(),this.createColors(),this.drawChart(this.data)}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pie"]],hostBindings:function(a,s){1&a&&t.NdJ("resize",function(n){return s.onResize(n)},!1,t.Jf7)},inputs:{chartName:"chartName",data:"data"},decls:1,vars:1,consts:[[1,"RWDChart",3,"id"]],template:function(a,s){1&a&&t._UZ(0,"figure",0),2&a&&t.s9C("id",s.chartName)},styles:[".RWDChart[_ngcontent-%COMP%]{width:100%}"]}),e})();var C=u(9142);let c=(()=>{class e{constructor(){this.pieData=[{Framework:"Vue",Stars:"166443",Released:"2014"},{Framework:"React",Stars:"150793",Released:"2013"},{Framework:"Angular",Stars:"62342",Released:"2016"},{Framework:"Backbone",Stars:"27647",Released:"2010"},{Framework:"Ember",Stars:"21471",Released:"2011"}]}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:17,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"text-primary-800"],[1,"card-body"],[1,"row"],[1,"col-md-12","col-lg-6"],["chartName","pieChart",3,"data"],["value","MouseOver","styleClass","me-1"],["value","Click","styleClass","me-1"],["value","RWD","styleClass","me-1"],["value","LazyLoad","styleClass","me-1"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Origin Pie"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"app-pie",6),t.qZA(),t.TgZ(8,"div",5)(9,"strong",2),t._uU(10,"Tag: "),t._UZ(11,"p-tag",7)(12,"p-tag",8)(13,"p-tag",9)(14,"p-tag",10),t.qZA(),t.TgZ(15,"p",2),t._uU(16," \u57fa\u790e\u578b\u5713\u9905\u5716\u6a21\u7d44\uff0c\u5177\u6709\u6ed1\u9f20\u6ed1\u52d5(MouseOver)\u6642\u5373\u6642\u986f\u793a\u5713\u9905\u5716\u6b04\u4f4d\u540d\u7a31\u8207\u6578\u503c\u7684\u529f\u80fd\uff0c\u4e26\u80fd\u914d\u5408RWD\u5728\u4e0d\u9700\u91cd\u65b0\u8f09\u5165\u7684\u60c5\u5883\u4e0b\u8b8a\u66f4Y\u8ef8\u8207X\u8ef8\u6a19\u7c64\u7684\u7d1a\u8ddd\u548c\u6a19\u7c64\u6a23\u5f0f\uff0c\u540c\u6642\u5177\u6709\u9ede\u64ca\u89f8\u767c\u4e8b\u4ef6\u986f\u793a\u9ede\u64ca\u8cc7\u6599\uff0c\u53ef\u900f\u904eConsole\u9032\u884c\u4e8b\u4ef6\u7684\u700f\u89bd\u3002 "),t.qZA()()()()()),2&a&&(t.xp6(7),t.Q6J("data",s.pieData))},directives:[p,C.V],encapsulation:2}),e})();const v=[{path:"",component:c},{path:"Pie",component:c}];let y=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(v)],l.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,g.m,y]]}),e})()}}]);